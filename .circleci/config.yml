version: 2.1
jobs:
  run_tests: 
    docker:      
      - image: circleci/openjdk:stretch
      - image: selenium/standalone-chrome:latest
        environment:
          - NODE_PORT=4444
          - NODE_MAX_SESSION=5
          - NODE_MAX_INSTANCES=5
    steps:       
      - checkout
      - run: mkdir -p config
      - run: echo $CONFIG_QA | base64 --decode > config/qa.properties
      - run: mvn test   

workflows:
  maven_test:
    jobs:
      - run_tests
